<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Separator?>

<AnchorPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="ba.una.booking.controller.AddFilmController"
            prefWidth="1000" prefHeight="700"
            styleClass="page-background add-page-root"
            stylesheets="@../css/addfilm.css">


    <children>
        <VBox spacing="18"
              AnchorPane.topAnchor="24"
              AnchorPane.leftAnchor="32"
              AnchorPane.rightAnchor="32"
              AnchorPane.bottomAnchor="24">

            <Label text="Dodaj film" styleClass="page-title"/>
            <Separator styleClass="page-separator"/>

            <VBox styleClass="add-form-card" spacing="20">

                <HBox alignment="CENTER_LEFT">
                    <children>
                        <VBox spacing="6">
                            <children>
                                <Label text="FORMULAR" styleClass="add-form-subtitle"/>
                                <Label text="Dodaj novi film u sistem" styleClass="add-form-title"/>
                            </children>
                        </VBox>

                        <Pane HBox.hgrow="ALWAYS"/>

                        <Label text="Filmovi  /  Dodaj film" styleClass="add-form-breadcrumb"/>
                    </children>
                </HBox>

                <Region prefHeight="10"/>

                <GridPane hgap="32" vgap="16" styleClass="add-form-grid">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="50"/>
                        <ColumnConstraints percentWidth="50"/>
                    </columnConstraints>

                    <children>
                        <!-- Naziv filma -->
                        <VBox spacing="4" GridPane.rowIndex="0" GridPane.columnIndex="0">
                            <children>
                                <Label text="Naziv filma" styleClass="add-form-label"/>
                                <TextField fx:id="nazivField"
                                           styleClass="add-form-input"
                                           promptText="Unesi naziv filma"
                                           prefHeight="40"/>
                            </children>
                        </VBox>

                        <!-- Godina -->
                        <VBox spacing="4" GridPane.rowIndex="0" GridPane.columnIndex="1">
                            <children>
                                <Label text="Godina" styleClass="add-form-label"/>
                                <TextField fx:id="godinaField"
                                           styleClass="add-form-input"
                                           promptText="npr. 2024"
                                           prefHeight="40"/>
                            </children>
                        </VBox>

                        <!-- Trajanje -->
                        <VBox spacing="4" GridPane.rowIndex="1" GridPane.columnIndex="0">
                            <children>
                                <Label text="Trajanje" styleClass="add-form-label"/>
                                <TextField fx:id="trajanjeField"
                                           styleClass="add-form-input"
                                           promptText="npr. 120 min"
                                           prefHeight="40"/>
                            </children>
                        </VBox>

                        <!-- Status + Žanr (isti width + dropdown) -->
                        <HBox spacing="24" GridPane.rowIndex="1" GridPane.columnIndex="1">
                            <children>

                                <!-- Status -->
                                <VBox spacing="4" HBox.hgrow="ALWAYS">
                                    <children>
                                        <Label text="Status" styleClass="add-form-label"/>
                                        <ComboBox fx:id="statusCombo"
                                                  styleClass="add-form-combo"
                                                  promptText="Odaberi status"
                                                  prefHeight="40"
                                                  maxWidth="Infinity"/>
                                    </children>
                                </VBox>

                                <!-- Žanr -->
                                <VBox spacing="4" HBox.hgrow="ALWAYS">
                                    <children>
                                        <Label text="Žanr" styleClass="add-form-label"/>
                                        <ComboBox fx:id="zanrCombo"
                                                  styleClass="add-form-combo"
                                                  promptText="Odaberi žanr"
                                                  prefHeight="40"
                                                  maxWidth="Infinity"/>
                                    </children>
                                </VBox>

                            </children>
                        </HBox>

                        <!-- Opis -->
                        <VBox spacing="4" GridPane.rowIndex="2" GridPane.columnIndex="0"
                              GridPane.columnSpan="2">
                            <children>
                                <Label text="Opis (opcionalno)" styleClass="add-form-label"/>
                                <TextArea fx:id="opisArea"
                                          prefRowCount="3"
                                          styleClass="add-form-input"
                                          promptText="Kratki opis filma"/>
                            </children>
                        </VBox>
                    </children>
                </GridPane>

                <!-- DONJA FOOTER TRAKA -->
                <HBox spacing="12" alignment="CENTER_LEFT" styleClass="add-form-footer">
                    <children>

                        <HBox spacing="8">
                            <children>
                                <Button text="◀"
                                        onAction="#goToAddBooking"
                                        styleClass="pagination-button"/>

                                <Button text="▶"
                                        onAction="#goToAddPartner"
                                        styleClass="pagination-button"/>
                            </children>
                        </HBox>

                        <Pane HBox.hgrow="ALWAYS"/>

                        <Button text="Odustani"
                                onAction="#onCancel"
                                styleClass="add-form-secondary-btn"/>

                        <Button text="Spremi Film"
                                onAction="#onSaveFilm"
                                styleClass="add-form-primary-btn"/>
                    </children>
                </HBox>

            </VBox>
        </VBox>
    </children>
</AnchorPane>
